/* Generated by LabelConnector plugin - remove this comment if you don't want the plugin to override your custom label style*/
/*
alias_en="Break aligned"
alias_fr="Lignes brisées régulières"
*/

make_line( 
    if( layer_property( @layer_name  , 'geometry_type' ) = 'Line',          closest_point( $geometry ,  make_point("auxiliary_storage_labeling_positionx"       , "auxiliary_storage_labeling_positiony") ), centroid($geometry)  )  , 
make_point(
"auxiliary_storage_labeling_positionx" + 
CASE WHEN 
"auxiliary_storage_labeling_positionx" < x(    if( layer_property( @layer_name  , 'geometry_type' ) = 'Line',          closest_point( $geometry ,  make_point("auxiliary_storage_labeling_positionx"       , "auxiliary_storage_labeling_positiony") ), centroid($geometry)  )  ) 
THEN 
1 
ELSE 
-1 
END 
* distance(
    if( layer_property( @layer_name  , 'geometry_type' ) = 'Line',          closest_point( $geometry ,  make_point("auxiliary_storage_labeling_positionx"       , "auxiliary_storage_labeling_positiony") ), centroid($geometry)  )  , 
make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony")
) / 2.0,

"auxiliary_storage_labeling_positiony"),

make_point("auxiliary_storage_labeling_positionx", "auxiliary_storage_labeling_positiony")
 )
/* End of generated expression */
